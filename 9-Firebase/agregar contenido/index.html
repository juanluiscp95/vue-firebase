<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vue</title>
</head>
<body>
<form id="formulario">
  <textarea name="mensaje" id="mensaje" cols="30" rows="10"></textarea>
  <br>
  <input type="submit" value="Enviar mensaje">
</form>

<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.14.5/firebase-app.js"></script>

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyBO4sXxGlpfszX_7JA82gjOhGdd8mxtRYc",
    authDomain: "fir-juan-luis-calderon.firebaseapp.com",
    databaseURL: "https://fir-juan-luis-calderon.firebaseio.com",
    projectId: "fir-juan-luis-calderon",
    storageBucket: "fir-juan-luis-calderon.appspot.com",
    messagingSenderId: "578818004588",
    appId: "1:578818004588:web:431b032e5059b3d0d96a49",
    measurementId: "G-NKVD8K0LME"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
 

    // Guardar una referencia a la base de datos
    var db = firebase.database();

    // Guardar info de perfil
    /*db.ref('/perfiles/juanluiscalderon').set({
        username: 'juanluiscalderon',
        password: '1234',
        ciudad: 'Elche',
        pais: 'España'
    }).then(() => console.info('Datos añadidos'));*/

    
    // Guardar nuevos datos anidados (lista)
    document.getElementById('formulario').onsubmit= function(event) {
        event.preventDefault();
        let mensaje = document.getElementById('mensaje');
        db.ref('chats').push({
            username: 'juanluiscalderon',
            mensaje: mensaje.value,
        }).then(() => {
            console.info('Mensaje enviado');
            mensaje.value = '';
        });
    }
</script>
</body>
</html>